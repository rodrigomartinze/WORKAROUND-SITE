<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - WorkAround</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.4.16/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="~/css/navbar.css" asp-append-version="true" />
    @RenderSection("Styles", required: false)


</head>
<body>
    <nav id="mainNav">
        <ul class="navbar-nav">
            <li class="nav-item">
                <span class="nav-link text-dark" onclick="location.href='@Url.Action("Index", "Home")'">Inicio</span>
            </li>
            <li class="nav-item">
                <span class="nav-link text-dark" onclick="location.href='@Url.Action("Index", "MyJob")'">Mi trabajo</span>
            </li>
            <li class="nav-item">
                <span class="nav-link text-dark" onclick="location.href='@Url.Action("Index", "Support")'">Soporte</span>
            </li>
            <li class="nav-item">
                <span class="nav-link text-dark" onclick="location.href='@Url.Action("Index", "CompanyPanel")'">Panel de empresa</span>
            </li>
            <li class="nav-item">
                <span class="nav-link text-dark" onclick="location.href='@Url.Action("Index", "Soon")'">Proximamente</span>
            </li>
        </ul>
    </nav>

    <button class="btn">
        <div class="btn--bg"></div>
        <div class="icons">
            <svg viewBox="0 0 448 512" class="line">
                <path d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z" />
            </svg>
            <svg viewBox="0 0 320 512" class="close">
                <path d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z" />
            </svg>
        </div>
    </button>

    <!-- 🔥 NUEVO: Contenedor para el contenido principal -->
    <div class="main-content">
        <main role="main">
            @RenderBody()
        </main>
    </div>

    <footer class="footer text-muted">
        <div class="container">
            &copy; 2025 - WorkAroundSite - <a asp-area="" asp-controller="Home" asp-action="Privacy">Privacy</a>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.1.1/gsap.min.js"></script>
    <script>
        console.clear()

        const { gsap } = window
        const button = document.querySelector("button")
        const nav = document.getElementById("mainNav")
        let active = false

        const openTl = gsap.timeline({ paused: true })
        const closeTl = gsap.timeline({ paused: true })

        openTl
            .set(".btn", { pointerEvents: "none" })
            .set("nav", { pointerEvents: "all" }) // Activa clics en nav
            .to(
                "nav",
                {
                    "clip-path": "circle(200% at 60px 60px)",
                    duration: 1.5,
                    ease: "power4.out",
                },
                0
            )
            .to(
                "nav li",
                {
                    x: 0,
                    opacity: 1,
                    pointerEvents: "all",
                    duration: 1.25,
                    stagger: 0.1,
                    ease: "elastic.out(1.15, .95)",
                },
                0
            )
            .to(
                ".btn .close",
                {
                    opacity: 1,
                    yPercent: -125,
                    duration: 1,
                    ease: "power4.out",
                },
                0
            )
            .to(
                ".btn .line",
                {
                    opacity: 0,
                    yPercent: -125,
                    duration: 1,
                    ease: "power4.out",
                },
                0
            )
            .set(".btn", { pointerEvents: "all" })

        closeTl
            .set(".btn", { pointerEvents: "none" })
            .to(
                "nav li",
                {
                    x: -200,
                    opacity: 0,
                    pointerEvents: "none",
                    duration: 1,
                    stagger: 0.1,
                    ease: "power4.out",
                },
                0
            )
            .to(
                "nav",
                {
                    "clip-path": "circle(0px at 60px 60px)",
                    duration: 1.2,
                    ease: "power4.out",
                },
                "-=1"
            )
            .set("nav", { pointerEvents: "none" }) // Desactiva clics en nav
            .to(
                ".btn--bg",
                {
                    scale: 0.9,
                    duration: 0.25,
                    ease: "elastic.out",
                },
                "-=.9"
            )
            .to(
                ".btn--bg",
                {
                    scale: 1,
                    duration: 0.25,
                    ease: "elastic.out",
                },
                "-=.5"
            )
            .to(
                ".btn .close",
                {
                    opacity: 0,
                    yPercent: 125,
                    duration: 1,
                    ease: "power4.out",
                },
                0
            )
            .to(
                ".btn .line",
                {
                    opacity: 1,
                    yPercent: 0,
                    duration: 1,
                    ease: "power4.out",
                },
                0
            )
            .set(".btn", { pointerEvents: "all" })

        button.addEventListener("click", () => {
            if (!active) openTl.seek(0).play()
            else closeTl.seek(0).play()

            active = !active
        })
    </script>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>